-- UI Test cho Spam Wall Combo
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- T·∫°o ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "WallComboUI"
screenGui.Parent = playerGui

-- T·∫°o Frame ch√≠nh
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 200, 0, 100)
mainFrame.Position = UDim2.new(0, 10, 0, 10)
mainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
mainFrame.BorderSizePixel = 2
mainFrame.BorderColor3 = Color3.fromRGB(80, 80, 80)
mainFrame.Parent = screenGui

-- Ti√™u ƒë·ªÅ
local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, 0, 0, 30)
titleLabel.Position = UDim2.new(0, 0, 0, 0)
titleLabel.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
titleLabel.Text = "SPAM WALL COMBO"
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextSize = 14
titleLabel.Parent = mainFrame

-- N√∫t b·∫≠t/t·∫Øt
local WallBtn = Instance.new("TextButton")
WallBtn.Size = UDim2.new(0.8, 0, 0.4, 0)
WallBtn.Position = UDim2.new(0.1, 0, 0.35, 0)
WallBtn.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
WallBtn.Text = "Wall Combo: OFF"
WallBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
WallBtn.Font = Enum.Font.GothamBold
WallBtn.TextSize = 12
WallBtn.Parent = mainFrame

-- Label tr·∫°ng th√°i
local statusLabel = Instance.new("TextLabel")
statusLabel.Size = UDim2.new(0.8, 0, 0.2, 0)
statusLabel.Position = UDim2.new(0.1, 0, 0.75, 0)
statusLabel.BackgroundTransparency = 1
statusLabel.Text = "Tr·∫°ng th√°i: T·∫Øt"
statusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
statusLabel.Font = Enum.Font.Gotham
statusLabel.TextSize = 11
statusLabel.Parent = mainFrame

-- Bi·∫øn tr·∫°ng th√°i
local wallComboEnabled = false

-- H√†m b·∫≠t/t·∫Øt Wall Combo
local function toggleWallCombo()
    wallComboEnabled = not wallComboEnabled
    
    if wallComboEnabled then
        WallBtn.BackgroundColor3 = Color3.fromRGB(60, 200, 60)
        WallBtn.Text = "Wall Combo: ON"
        statusLabel.Text = "Tr·∫°ng th√°i: ƒêang spam"
        statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
        
        -- B·∫¨T SPAM WALL COMBO
        setthreadcontext(2)
        local plrs = game:GetService("Players")
        local rep = game:GetService("ReplicatedStorage")
        local rs = game:GetService("RunService")
        local plr = plrs.LocalPlayer
        local core = require(rep.Core)
        local chars = rep.Characters
        local char = plr.Data.Character

        local function wallcombo()
            local head = plr.Character and plr.Character:FindFirstChild("Head")
            if not head then return end

            local res = core.Get("Combat","Hit").Box(nil, plr.Character, {Size = Vector3.new(50,50,50)})
            if res then
                local success, err = pcall(core.Get("Combat","Ability").Activate, chars[char.Value].WallCombo, res, head.Position + Vector3.new(0,0,2.5))
                if not success then
                    print("L·ªói:", err)
                end
            end
        end

        rs:BindToRenderStep("WallCombo", Enum.RenderPriority.Input.Value, wallcombo)
        print("ü©∏ SPAM WALL COMBO ACTIVATED")
        
    else
        WallBtn.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
        WallBtn.Text = "Wall Combo: OFF"
        statusLabel.Text = "Tr·∫°ng th√°i: T·∫Øt"
        statusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
        
        -- T·∫ÆT SPAM WALL COMBO
        local rs = game:GetService("RunService")
        rs:UnbindFromRenderStep("WallCombo")
        print("‚ùå SPAM WALL COMBO DEACTIVATED")
    end
end

-- G√°n s·ª± ki·ªán click cho n√∫t
WallBtn.MouseButton1Click:Connect(toggleWallCombo)

-- Cho ph√©p k√©o UI
local dragging = false
local dragInput, dragStart, startPos

mainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = mainFrame.Position
        
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

mainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
    if dragging and input == dragInput then
        local delta = input.Position - dragStart
        mainFrame.Position = startPos + UDim2.new(0, delta.X, 0, delta.Y)
    end
end)

print("‚úÖ UI Spam Wall Combo ƒë√£ s·∫µn s√†ng!")